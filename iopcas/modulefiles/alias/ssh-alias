#%Module1.0
module-whatis "alias related to SSH"

set rsync_exclude "--exclude=*.o --exclude=__pycache__ --exclude=*.pyc --exclude=*.mod"
# rsync
# for old version rsync, replace --info=progress2 with --progress
set-alias scsyc    "rsync $rsync_exclude -vazru --info=progress2 "
set-alias scsycfoc "rsync $rsync_exclude -vazr  --info=progress2 "
set-alias scsycdel "rsync $rsync_exclude --remove-source-files -vazru --info=progress2 "

# sync directory to IOP-HR server
set-alias sync2hr { relap="$(realpath . --relative-base=/home/minyez/)" && ssh iophr mkdir -p "/home/zhangmy/$relap" && rsync -vazru --info=progress2 "/home/minyez/$relap" iophr:"/home/zhangmy/$(dirname $relap)" }

